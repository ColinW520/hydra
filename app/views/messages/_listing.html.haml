= render partial: 'messages/filter_fields', locals: { smart_listing: smart_listing }
%br
.row
  .col-sm-12
    .card
      .table-responsive
        %table.table.table-condensed
          %thead.thead-inverse
            %th= smart_listing.sortable 'Date', :sent_at
            %th= smart_listing.sortable 'Direction', :direction
            %th= smart_listing.sortable 'To', :to
            %th= smart_listing.sortable 'From', :from
            %th= smart_listing.sortable 'Body', :body
            %th= smart_listing.sortable 'Media', :num_media
            %th
          %tbody#messages
            - smart_listing.collection.each do |message|
              = render message
%br
.row
  .col-sm-12
    .pull-right
      = smart_listing.paginate
      .pull-right
        = smart_listing.pagination_per_page_links

= render "contacts/dialog"
= render "message_requests/dialog"
